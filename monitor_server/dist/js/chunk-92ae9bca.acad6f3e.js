(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-92ae9bca"],{3556:function(e,t,r){"use strict";function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){s(e,t,r[t])})}return e}r.d(t,"a",function(){return o})},5516:function(e,t,r){"use strict";var s=r("d65e"),o=r.n(s);o.a},"83c5":function(e,t,r){"use strict";var s=r("6e6d"),o=new s["default"];t["a"]=o},bfef:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"crumbs"},[r("i",{staticClass:"el-icon-share"}),r("el-breadcrumb",{staticStyle:{"font-size":"18px","line-height":"18px","margin-left":"20px"},attrs:{separator:"/"}},[r("el-breadcrumb-item",[r("span",[e._v(e._s("索引 "+e.currentNode.id))])]),r("el-breadcrumb-item",[r("span",[e._v(e._s("名称 "+e.currentNode.name))])]),r("el-breadcrumb-item",[r("span",[e._v(e._s(e.currentNode.host+":"+e.currentNode.port))])])],1)],1),r("el-col",[r("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-card",{attrs:{shadow:"hover"}},[r("ve-histogram",{ref:"timeoutNodes",attrs:{data:e.timeoutNodesData,settings:e.timeoutNodesSettings,resizeable:!0}})],1)],1)],1),r("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-card",{attrs:{shadow:"hover"}},[r("ve-histogram",{ref:"cheatedNodes",attrs:{data:e.cheatedNodesData,settings:e.cheatedNodesSettings,resizeable:!0}})],1)],1)],1),r("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-card",{attrs:{shadow:"hover"}},[r("ve-line",{attrs:{data:e.timeConsume,resizeable:!0}})],1)],1)],1),r("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-card",{attrs:{shadow:"hover"}},[r("ve-line",{attrs:{data:e.cpuConsume,resizeable:!0}})],1)],1)],1),r("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-card",{attrs:{shadow:"hover"}},[r("ve-line",{attrs:{data:e.memoryConsume,resizeable:!0}})],1)],1)],1)],1)],1)},o=[],a=(r("7415"),r("ea65"),r("3556")),n=r("83c5"),i=r("52c1"),c={name:"nodeDetail",data:function(){return{switch:!1,currentNode:void 0,timeoutNodesData:{columns:["address","times","frequency"],rows:[]},timeoutNodesSettings:{axisSite:{right:["超时频率"]},yAxisType:["normal","normal"],yAxisName:["超时次数","超时频率/小时                               "]},cheatedNodesData:{columns:["address","times","frequency"],rows:[]},cheatedNodesSettings:{axisSite:{right:["作弊频率"]},yAxisType:["normal","normal"],yAxisName:["作弊次数","作弊频率/小时                                "]},timeConsume:{columns:["createdAt","consume"],rows:[]},cpuConsume:{columns:["createdAt","consume"],rows:[]},memoryConsume:{columns:["createdAt","consume"],rows:[]}}},computed:Object(a["a"])({},Object(i["b"])(["unl"])),created:function(){void 0===this.currentNode&&this.getCurrentNode()},watch:{$route:function(e,t){this.switch||(this.getCurrentNode(),this.getNodeStatus(),this.getTimeConsume(),this.getCheatedNodes(),this.getTimeoutNodes(),this.handleListener()),this.switch=!1}},activated:function(){this.switch=!0,this.getCurrentNode(),this.$store.commit("switchNavType","node"),this.getNodeStatus(),this.getTimeConsume(),this.getCheatedNodes(),this.getTimeoutNodes(),this.handleListener()},deactivated:function(){n["a"].$off("collapse",this.renderCharts)},methods:{handleListener:function(){n["a"].$on("collapse",this.renderCharts)},renderCharts:function(){},getCurrentNode:function(){var e=this.$route.path.split("/")[2],t=this.unl.find(function(t){return e==t.id});this.currentNode=t},getNodeStatus:function(){var e=this;this.$axios.get("nodeStatus",{address:this.currentNode.address}).then(function(t){0!==t.code?e.$message.error(t.msg):(e.cpuConsume.rows=t.data.cpus.map(function(e){return{createdAt:new Date(e.createdAt).toLocaleString(),consume:e.consume}}).reverse(),e.memoryConsume.rows=t.data.memories.map(function(e){return{createdAt:new Date(e.createdAt).toLocaleString(),consume:e.consume/1024/1024}}).reverse())})},getTimeConsume:function(){var e=this;this.$axios.get("timeConsume",{url:"".concat(this.currentNode.host,":").concat(this.currentNode.port),beginTime:Date.now()-72e5,endTime:Date.now(),offset:0,limit:499}).then(function(t){0!==t.code?e.$message.error(t.msg):e.timeConsume.rows=t.data.map(function(e){return{createdAt:new Date(e.createdAt).toLocaleString(),consume:e.data}}).reverse()})},getTimeoutNodes:function(){var e=this;this.$axios.get("abnormalNodes",{url:"".concat(this.currentNode.host,":").concat(this.currentNode.port),type:1,beginTime:Date.now()-864e5,endTime:Date.now(),offset:0,limit:499}).then(function(t){0!==t.code?e.$message.error(t.msg):e.timeoutNodesData.rows=t.data.map(function(e){return{address:e.address,times:e.frequency,frequency:e.frequency/24}})})},getCheatedNodes:function(){var e=this;this.$axios.get("abnormalNodes",{url:"".concat(this.currentNode.host,":").concat(this.currentNode.port),type:2,beginTime:Date.now()-864e5,endTime:Date.now(),offset:0,limit:499}).then(function(t){0!==t.code?e.$message.error(t.msg):e.cheatedNodesData.rows=t.data.map(function(e){return{address:e.address,times:e.frequency,frequency:parseInt(e.frequency)/24}})})}}},u=c,d=(r("5516"),r("17cc")),m=Object(d["a"])(u,s,o,!1,null,"c913a8be",null);t["default"]=m.exports},d65e:function(e,t,r){}}]);
//# sourceMappingURL=chunk-92ae9bca.acad6f3e.js.map