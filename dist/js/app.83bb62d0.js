(function(t){function a(a){for(var n,s,i=a[0],c=a[1],u=a[2],d=0,f=[];d<i.length;d++)s=i[d],o[s]&&f.push(o[s][0]),o[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(a);while(f.length)f.shift()();return r.push.apply(r,u||[]),e()}function e(){for(var t,a=0;a<r.length;a++){for(var e=r[a],n=!0,i=1;i<e.length;i++){var c=e[i];0!==o[c]&&(n=!1)}n&&(r.splice(a--,1),t=s(s.s=e[0]))}return t}var n={},o={app:0},r=[];function s(a){if(n[a])return n[a].exports;var e=n[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=t,s.c=n,s.d=function(t,a,e){s.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,a){if(1&a&&(t=s(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var n in t)s.d(e,n,function(a){return t[a]}.bind(null,n));return e},s.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(a,"a",a),a},s.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=a,i=i.slice();for(var u=0;u<i.length;u++)a(i[u]);var l=c;r.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("ec5e")},"3d35":function(t){t.exports=[{query:{url:"http://localhost:8081"},consensus:{url:"http://localhost:8080"},detail:""}]},"661d":function(t){t.exports={a:"localhost",b:8082}},"7ed4":function(t,a,e){},"953f":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("h1",[t._v("欢迎进入区块链交易系统")]),e("div",{staticClass:"current_node"},[e("p",[t._v("当前选择节点: "+t._s(t.currentNode.consensus.url))])]),e("div",{staticClass:"node_list"},[e("span",[t._v("节点列表:")]),e("ul",{attrs:{id:"nodesInfo"}},t._l(t.nodesInfo,function(a){return e("li",[e("p",{staticStyle:{cursor:"pointer"},on:{dblclick:function(e){t.chooseNode(a)}}},[t._v(t._s(a.consensus.url))]),e("ul",{staticClass:"chain"},[t._m(0,!0),e("li",[e("div",{staticClass:"chain_text"},[t._v(t._s(a.detail.number))])]),e("li",[e("div",{staticClass:"chain_text"},[t._v(t._s(a.detail.hash))])]),t._m(1,!0)]),e("p")])}),0)]),e("div",{staticClass:"main_left"},[e("div",{staticClass:"senderRecord"},[e("span",[t._v("发送者记录:")]),e("ul",{attrs:{id:"fromHistory"}},t._l(t.froms,function(a){return e("li",[e("p",{staticStyle:{cursor:"pointer"},on:{dblclick:function(e){t.chooseFrom(a)}}},[t._v(t._s(a)+"\n\t\t\t\t\t")]),e("button",{staticClass:"obtain1",on:{click:function(e){t.getAccountInfo(a)}}},[t._v("获取账户信息")]),e("button",{staticClass:"obtain2",on:{click:function(e){t.getPrivateKey(a)}}},[t._v("获取私钥")])])}),0)]),e("div",{staticClass:"recipientRecord"},[e("span",[t._v("接收者记录:")]),e("ul",{attrs:{id:"toHistory"}},t._l(t.tos,function(a){return e("li",[e("p",{staticStyle:{cursor:"pointer"},on:{dblclick:function(e){t.chooseTo(a)}}},[t._v(t._s(a))])])}),0)])]),e("div",{staticClass:"main_right"},[e("div",{staticClass:"input_list"},[e("div",{staticClass:"from"},[e("span",[t._v("发送者: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.from,expression:"from"}],attrs:{placeholder:"请输入发送者id"},domProps:{value:t.from},on:{input:function(a){a.target.composing||(t.from=a.target.value)}}})]),e("div",{staticClass:"to"},[e("span",[t._v("接收者: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.to,expression:"to"}],attrs:{placeholder:"请输入接收者id"},domProps:{value:t.to},on:{input:function(a){a.target.composing||(t.to=a.target.value)}}})]),e("div",{staticClass:"value"},[e("span",[t._v("值: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{placeholder:"请输入值"},domProps:{value:t.value},on:{input:function(a){a.target.composing||(t.value=a.target.value)}}})]),e("button",{attrs:{type:"primary"},on:{click:t.generateKeyPiar}},[t._v("生成密匙piar")]),e("button",{attrs:{type:"primary"},on:{click:t.sendTransaction}},[t._v("发送交易")])]),e("div",{staticClass:"transactionHash"},[e("div",{staticClass:"tHash"},[e("span",[t._v("交易哈希值: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.transactionHash,expression:"transactionHash"}],domProps:{value:t.transactionHash},on:{input:function(a){a.target.composing||(t.transactionHash=a.target.value)}}})]),e("button",{on:{click:t.getTransactionState}},[t._v("获取交易状态")])])])])},o=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("li",[e("div",{staticClass:"chain_text"},[t._v("开始生成")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"generation"},[e("i"),e("i"),e("i"),e("i"),e("i"),e("i"),e("i"),e("i"),e("span",[t._v("正在生成中")])])}],r=(e("8656"),e("0263"),e("c5f3"),e("b4a3"),e("2681"),e("7f43")),s=e.n(r),i=e("661d"),c=s.a.create({baseURL:"http://".concat(i["a"],":").concat(i["b"]),withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},transformRequest:[function(t){var a="";for(var e in t)!0===t.hasOwnProperty(e)&&(a+=encodeURIComponent(e)+"="+encodeURIComponent(t[e])+"&");return a}]});function u(t,a,e,n){c({method:t,url:a,data:"POST"===t||"PUT"===t?e:null,params:"GET"===t||"DELETE"===t?e:null}).then(function(t){n(t)}).catch(function(t){n(t)})}var l={get:function(t,a,e){return u("GET",t,a,e)},post:function(t,a,e){return u("POST",t,a,e)},put:function(t,a,e){return u("PUT",t,a,e)},delete:function(t,a,e){return u("DELETE",t,a,e)}},d=e("3d35"),f=(e("7ed4"),1),p=2,v={name:"App",data:function(){return{froms:[],tos:[],from:"",to:"",value:0,transactionHash:"",currentNode:d[0],nodesInfo:d}},created:function(){this.getFromHistory(),this.getToHistory(),this.getLastestBlock()},methods:{getLastestBlock:function(){this.nodesInfo.forEach(function(t){l.get("getLastestBlock",{url:t.query.url},function(a){a.status>=200&&a.status<300?0===a.data.code?t.detail=a.data.data:alert(a.data.msg):alert(a)})})},chooseFrom:function(t){this.from=t},chooseTo:function(t){this.to=t},generateKeyPiar:function(){var t=this;l.get("generateKeyPiar",{},function(a){a.status>=200&&a.status<300?0===a.data.code?t.getFromHistory():alert(a.data.msg):alert(a)})},getFromHistory:function(){var t=this;l.get("getFromHistory",{},function(a){a.status>=200&&a.status<300?0===a.data.code?t.froms=a.data.data:alert(a.data.msg):alert(a)})},getToHistory:function(){var t=this;l.get("getToHistory",{},function(a){a.status>=200&&a.status<300?0===a.data.code?t.tos=a.data.data:alert(a.data.msg):alert(a)})},sendTransaction:function(){var t=this;l.get("sendTransaction",{queryUrl:t.currentNode.query.url,consensusUrl:t.currentNode.consensus.url,from:t.from,to:t.to,value:t.value},function(a){a.status>=200&&a.status<300?0===a.data.code?(alert("transaction hash: "+a.data.data),t.getToHistory()):alert(a.data.msg):alert(a)})},getTransactionState:function(){var t=this;l.get("getTransactionState",{url:t.currentNode.query.url,hash:t.transactionHash},function(t){t.status>=200&&t.status<300?0===t.data.code?t.data.data===f?alert("transaction has packed"):t.data.data===p?alert("transaction not packet for now"):alert("getTransactionState failed"):alert(t.data.msg):alert(t)})},getAccountInfo:function(t){var a=this;l.get("getAccountInfo",{url:a.currentNode.query.url,address:t},function(t){t.status>=200&&t.status<300?0===t.data.code?alert("address: ".concat(t.data.data.address,"\nnonce: ").concat(t.data.data.nonce,"\nbalance: ").concat(t.data.data.balance)):alert(t.data.msg):alert(t)})},getPrivateKey:function(t){var a=this;l.get("getPrivateKey",{url:a.currentNode.query.url,address:t},function(t){t.status>=200&&t.status<300?0===t.data.code?alert(t.data.data):alert(t.data.msg):alert(t)})},chooseNode:function(t){this.currentNode=t}}},h=v,m=e("4b4a"),g=Object(m["a"])(h,n,o,!1,null,null,null);g.options.__file="App.vue";a["a"]=g.exports}});
//# sourceMappingURL=app.83bb62d0.js.map